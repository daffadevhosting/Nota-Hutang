---
layout: default
title: Login
header: Catat & Tagih
---

<div class="login-box">
    <h2>Catat & Tagih</h2>
    <p>Masuk untuk mulai mencatat</p>
    <button onclick="loginGoogle()">Masuk dengan Google</button>
</div>
  <script>
    function loginGoogle() {
      auth.signInWithPopup(provider)
        .then(result => {
          // Redirect ke halaman utama setelah login
          window.location.href = "/catat"; // Ganti dengan file halaman pencatatan hutang
        })
        .catch(error => {
          alert("Login gagal: " + error.message);
        });
    }

    // Kalau sudah login, langsung arahkan ke halaman utama
    auth.onAuthStateChanged(user => {
      if (user) {
        window.location.href = "/catat";
      }
    });
  </script>