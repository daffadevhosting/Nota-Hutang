---
layout: default
title: Login
header: Catat & Tagih
---

<div class="login-box">
    <h2>{{site.title}}</h2>
    <p>Masuk untuk mulai mencatat</p>
    <button onclick="loginGoogle()">Masuk dengan Google</button>
</div>

        <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
        <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

  <script>
    // Ganti dengan konfigurasi Firebase kamu
    const firebaseConfig = {
  apiKey: "AIzaSyCiT9DTiVun4mKJAenmEHkhZ9jrjNMTEZs",
  authDomain: "notahutangmu.firebaseapp.com",
  projectId: "notahutangmu",
  storageBucket: "notahutangmu.firebasestorage.app",
  messagingSenderId: "978954750002",
  appId: "1:978954750002:web:4dd533087767ef08b4d42b",
  measurementId: "G-54WD1L6R9Q"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const provider = new firebase.auth.GoogleAuthProvider();

    function loginGoogle() {
      auth.signInWithPopup(provider)
        .then(result => {
          // Redirect ke halaman utama setelah login
          window.location.href = "/catat"; // Ganti dengan file halaman pencatatan hutang
        })
        .catch(error => {
          alert("Login gagal: " + error.message);
        });
    }

    // Kalau sudah login, langsung arahkan ke halaman utama
    auth.onAuthStateChanged(user => {
      if (user) {
        window.location.href = "/catat";
      }
    });
  </script>